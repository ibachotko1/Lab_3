# CycleMicroscope

Интерактивный проверяльщик корректности циклов с анализом инвариантов и вариант-функций.

## Описание

CycleMicroscope - это приложение на C#/.NET 8 с графическим интерфейсом (WPF/WinUI) для верификации корректности циклов. Проект реализован по методологии MVVM и позволяет анализировать инварианты, вариант-функции и тотальную корректность циклов.

## Функциональность

### Основные возможности:
- **Анализ циклов** вида `init; while (B) { S }`
- **Формулировка инвариантов** (словесное и формульное представление)
- **Контроль вариант-функций** (монотонное убывание, t ≥ 0)
- **Автоматическая проверка** сохранения инварианта через `wp(S, Inv)`
- **Визуальное исполнение** с пошаговым режимом

### Режимы работы:
- **PrefixSum**: `res = Σ_{i=0}^{j−1} a[i]`
- **Count > T**: `res = |{ i < j : a[i] > T }|`
- **PrefixMax**: `res = max(a[0..j−1])` (с аккуратной базой при j=0)

### Интерфейс:
- **Панель "Данные"** - генератор и редактор массивов
- **Блок "Инвариант/Вариант"** - настройка и мониторинг инвариантов
- **Блок "Проверка сохранения (wp)"** - автоматическая верификация
- **Кнопки управления** - "Шаг", "Пуск" для исполнения цикла

## Структура решения

### CycleMicroscope.App
- `ViewModels` - модели представления (MVVM)
- `Converters` - конвертеры для WPF
- `RelayCommand.cs` - реализации команд
- `App.xaml`, `MainWindow.xaml` - главное окно приложения
- `HelpWindow.xaml` - окно справки

### CycleMicroscope.Core
- `Algorithms` - реализации алгоритмов циклов
- `Common` - общие утилиты
- `Enums` - перечисления
- `Models` - модели данных
- `Services` - основные сервисы приложения

### CycleMicroscope.WP
- `Expressions` - работа с выражениями
- `ParserLogic` - логика парсинга
- `Statements` - обработка операторов
- `Verification` - модули верификации
- `WpCalculator.cs` - калькулятор weakest precondition

### CycleMicroscope.Tests
- `Core` - тесты ядра приложения
- `WP` - тесты модуля weakest precondition
- `CycleMicroscopeIntegrationTests.cs` - интеграционные тесты

## Технологии

- **Язык**: C#
- **Платформа**: .NET 8
- **GUI**: WPF/WinUI
- **Архитектура**: MVVM
- **Тестирование**: xUnit
- **Верификация**: Weakest Precondition Calculus

## Требования

- .NET 8 SDK
- Visual Studio 2022 или совместимая среда разработки

## Сборка

```bash
dotnet build --configuration Release --runtime win-x64
